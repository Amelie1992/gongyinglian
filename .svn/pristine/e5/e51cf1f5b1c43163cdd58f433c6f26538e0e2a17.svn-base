<!DOCTYPE html>
<html>
<head>
    <title>货物订单表</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <link rel="stylesheet" href="../../css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/font-awesome.min.css">
    <link rel="stylesheet" href="../../css/bootstrap-table.min.css">
    <link rel="stylesheet" href="../../plugins/bootstrap-editable/css/bootstrap-editable.css">
    <link rel="stylesheet" href="../../plugins/bootstrap-validator/css/bootstrap-validator.min.css">
    <link rel="stylesheet" href="../../plugins/bootstrap-select/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="../../plugins/ztree/css/metroStyle/metroStyle.css">
    <!--文件上传-->
    <link rel="stylesheet" href="../../plugins/bootstrap-fileinput-master/css/fileinput.css">
    <link rel="stylesheet" href="../../plugins/kdniao/css/KDNWidget.css"/>
    <link rel="stylesheet" href="../../css/main.css">
    <style>
        .table {
            table-layout: fixed !important;
        }
    </style>
</head>
<body>
<div id="rrapp" v-cloak class="container-fluid">
    <div v-show="showList">
       <!-- <div class="row">
            <button class="btn btn-default m-left-5" @click="searchButton('1')"><i class="fa fa-search"></i>&nbsp;{{$t('FullOrder')}}</button>
            <button class="btn btn-default m-left-5" @click="searchButton('2')"><i class="fa fa-search"></i>&nbsp;{{$t('PendingPayment')}}</button>
            <button class="btn btn-default m-left-5" @click="searchButton('3')"><i class="fa fa-search"></i>&nbsp;{{$t('PendingReceipt')}}</button>

        </div>-->
        <div class="row">
            <div class="col-xs-2">
                <input type="text" class="form-control" v-model="params.orderNumber" placeholder="根据订单编号" maxlength="25"/>
            </div>
            <div class="col-xs-2">
                <vm-select :options="statusSelect" title="选择订单状态" search="true"
                           name="merchants" @input="merchantsChange" v-model="params.orderStatus"></vm-select>
            </div>
            <button class="btn btn-default m-left-5" @click="query"><i class="fa fa-search"></i>&nbsp;{{$t('query')}}</button>
            <button class="btn btn-danger m-left-5" @click="del"><i class="fa fa-trash-o"></i>&nbsp;{{$t('delete')}}</button>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <table class="table table-striped table_list" id="table">
                </table>
            </div>
        </div>
    </div>

    <div v-show="!showList && addOrder !=true" style="margin-top: 20px;">
        <section class="content-header">
            <h1>
                {{$t('OrderDetails')}} &nbsp;<small v-if="title!=''">{{title}}</small>
            </h1>
        </section>
        <form class="form-horizontal">
            <div class="row" style="border:1px solid #ddd;">
                <div class="text-center col-sm-4">
                    <div>{{$t('ContractNumber')}}：{{goodsOrder.agreementId}}</div>
                    <div>{{$t('OrderId')}}：{{goodsOrder.orderNumber}}</div>
                    <h1>{{getOrderStatus()}}</h1>
                    <!--<button v-if="goodsOrder.orderStatus == 'tbp'">{{$t('ImmediatePayment')}}</button>-->
                </div>
                <div class="col-sm-1">
                    <hr style="width:1px;height:100px; background-color: #0a0a0a "></hr>
                </div>
                <div class="col-sm-3 text-center">
                    <div>{{$t('ConsigneeInformation')}}</div>
                    <div>{{$t('consignee')}}：{{address.consigneeName}}</div>
                    <div>{{$t('address')}}：{{address.consigneeAddress}}</div>
                    <div>{{$t('phone')}}：{{address.consigneePhone}}</div>
                </div>
                <div class="col-sm-1">
                    <hr style="width:1px;height:100px; background-color: #0a0a0a "></hr>
                </div>
                <div class="col-sm-3 text-center">
                    <div>{{$t('PaymentMethod')}}：{{getPaymentMethod()}}</div>
                    <div>{{$t('PaymentMethod')}}：{{getTransactionMode()}}</div>
                    <div>{{$t('DistributionMode')}}：{{goodsOrder.distributionMode ==0?'商家安排':'自行安排'}}</div>
                    <div>{{$t('StorageMode')}}：{{goodsOrder.storageMode ==0?'商家安排':'自行安排'}}</div>
                    <div>{{$t('CargoParticipation')}}：{{goodsOrder.insuranceMethod ==0?'商家安排':'自行安排'}}</div>
                </div>
            </div>
        </form>
        <div class="panel panel-default">
            <div class="panel-heading">
                <div class="panel-title text-left"><span>&nbsp;&nbsp;&nbsp;&nbsp;{{$t('business')}}：{{goodsOrder.sellerName}}            {{$t('ContactInformation')}}：{{goodsOrder.sellerContact}}</span>
                </div>
            </div>
            <div class="panel-body">
                <div>{{$t('OrderInformation')}}</div>
                <span>{{$t('CreationTime')}}：{{goodsOrder.createTime}}</span>
                <table class="table table-striped table_list" id="contenTable"></table>
                <table class="table table-striped table_list" id="commondityTable"
                       ></table><!--v-show="goodsOrder.goodsCsc==0 || goodsOrder.goodsCsc == null"-->
                <div class="panel panel-default" v-show="priceVersionShow">
                    <div class="panel-heading">
                        改价记录
                    </div>
                    <div class="panel-body" id="priceVersion">
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-1 text-right"><span>{{$t('Remarks')}}</span></div>
                    <div class="col-sm-8"><input type="text" class="form-control" v-model="goodsOrder.remarks"
                                                 :placeholder="$t('Remarks')"/></div>
                </div>

                <div class="text-right">
                    <div>{{$t('TotalPrice')}}：￥{{goodsOrder.totalPrice}}</div>
                    <div>{{$t('freight')}}：￥{{goodsOrder.transportationExpenses}}</div>
                    <div>{{$t('RealPayment')}}：￥{{goodsOrder.actualPayment==null?0:goodsOrder.actualPayment}}</div>
                </div>
            </div>
        </div>
        <div class="panel panel-default" v-show="viewStatus==1">
            <div class="panel-heading">
                <div class="panel-title">
                    {{$t('ShippingInformation')}}
                </div>
            </div>
            <div class="panel-body">
                <form class="form-horizontal">
                    <div class="form-group row">
                        <label for="logisticsCode" style="width: 120px" class="col-sm-3 control-label">{{$t('LogisticsCompany')}}</label>
                        <div class="col-md-2" id="logisticsCode">
                            <vm-select :options="logisticsOptions" title="选择快递" search="true"
                                       v-model="goodsOrderShip.logisticsCode"
                                       :value="goodsOrderShip.logisticsCode"
                                       name="logisticsOptions"></vm-select>
                            <!--<input class="form-control" type="text" :disabled="viewStatus != 1" id="logisticsCode" v-model="goodsOrderShip.logisticsCode"/>-->

                        </div>
                        <label for="singleNumber" style="width: 120px" class="col-sm-3 control-label">{{$t('LogisticsSingleNumber')}}</label>
                        <div class="col-md-2">
                            <input class="form-control" type="text" :disabled="viewStatus != 1" id="singleNumber"
                                   v-model="goodsOrderShip.singleNumber"/>
                        </div>
                        <label for="numberPlate" style="width: 120px" class="col-sm-3 control-label">{{$t('LicensePlateNumber')}}</label>
                        <div class="col-md-2">
                            <input class="form-control" type="text" :disabled="viewStatus != 1" id="numberPlate"
                                   v-model="goodsOrderShip.numberPlate"/>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="driverName" style="width: 120px" class="col-sm-3 control-label">{{$t('DriverName')}}</label>
                        <div class="col-md-2">
                            <input class="form-control" type="text" :disabled="viewStatus != 1" id="driverName"
                                   v-model="goodsOrderShip.driverName"/>
                        </div>
                        <label for="driverNumber" style="width: 120px" class="col-sm-3 control-label">{{$t('DriverNumber')}}</label>
                        <div class="col-md-2">
                            <input class="form-control" type="text" :disabled="viewStatus != 1" id="driverNumber"
                                   v-model="goodsOrderShip.driverNumber"/>
                        </div>
                        <label for="driverIdNumber" style="width: 120px" class="col-sm-3 control-label">{{$t('DriverIdNumber')}}</label>
                        <div class="col-md-2">
                            <input class="form-control" type="text" :disabled="viewStatus != 1" id="driverIdNumber"
                                   v-model="goodsOrderShip.driverIdNumber"/>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="remark" style="width: 120px" class="col-sm-3 control-label">{{$t('Remarks')}}</label>
                        <div class="col-md-5">
                            <input class="form-control" type="text" :disabled="viewStatus != 1" id="remark"
                                   v-model="goodsOrderShip.remark"/>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="panel panel-default" v-show="viewStatus==2">
            <div class="panel-heading">
                <div class="panel-title">
                    {{$t('LookAtTheLogistics')}}
                </div>
            </div>
            <div class="panel-body">
                <div id="shipElement"></div>
            </div>
        </div>
        <div class="panel panel-default" v-show="viewStatus==3">
            <div class="panel-heading">
                <h3 class="panel-title">
                    {{$t('customsInformation')}}
                </h3>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <div class="col-sm-2 control-label">{{$t('DeclarationForm')}}:</div>
                                <div class="col-sm-10">
                                    <commodity-fileinput :this_maxFileCount="6" ref="file1" :show_preview='false'
                                                         :files="file1" :image_list="files.file1"
                                                         :multiple="false"></commodity-fileinput>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <div class="col-sm-2 control-label">{{$t('paymentSheet')}}:</div>
                                <div class="col-sm-10">
                                    <commodity-fileinput :this_maxFileCount="6" ref="file2" :show_preview='false'
                                                         :image_list="files.file2" :multiple="false"
                                                         :files="file2"></commodity-fileinput>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <div class="col-sm-2 control-label">{{$t('QuarantineCertificate')}}:</div>
                                <div class="col-sm-10">
                                    <commodity-fileinput :this_maxFileCount="6" ref="file3" :show_preview='false'
                                                         :image_list="files.file3" :multiple="false"
                                                         :files="file3"></commodity-fileinput>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <div class="col-sm-2 control-label">{{$t('CheckList')}}:</div>
                                <div class="col-sm-10">
                                    <commodity-fileinput :this_maxFileCount="6" ref="file4" :show_preview='false'
                                                         :image_list="files.file4" :multiple="false"
                                                         :files="file4"></commodity-fileinput>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <div class="col-sm-2 control-label">{{$t('Other')}}:</div>
                                <div class="col-sm-10">
                                    <commodity-fileinput :this_maxFileCount="6" ref="file5" :show_preview='false'
                                                         :image_list="files.file5" :multiple="false"
                                                         :files="file5"></commodity-fileinput>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <button class="btn btn-default m-left-5" @click="returnReload"/>
        <i class="fa"></i>&nbsp;{{$t('return')}}
        <button class="btn btn-default m-left-5" v-show="complaintShow" v-show="viewStatus == 0" @click="addComplaint"/>
        <i class="fa"></i>&nbsp;{{$t('Complaint')}}
        <button class="btn btn-default m-left-5" v-show="viewStatus == 1" @click="addGoodsOrderShip"/>
        <i class="fa"></i>&nbsp;{{$t('PreservingLogisticsInformation')}}
        <button class="btn btn-default m-left-5"
                v-show="viewStatus == 3 && (JSON.stringify(files) == '{}' || files == null)" @click="saveFiles"/>
        <i class="fa"></i>&nbsp;{{$t('KeepingCustomsDeclarationInformation')}}
        <!--<button class="btn btn-default m-left-5" @click="addAftersale"/>
        <i class="fa"></i>&nbsp;售后-->
    </div>
    <div v-show="addOrder" style="margin-top: 20px;">
        <form class="form-horizontal" id="addform">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="panel-title">
                        <span>{{$t('FillInOrderInformation')}}</span>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="form-group">
                        <label class="radio-inline">
                            <input type="radio" v-model="goodsOrder.orderGoodsType" name="orderGoodsType" value="1">{{$t('domestic')}}
                        </label>
                        <label class="radio-inline">
                            <input type="radio" v-model="goodsOrder.orderGoodsType" name="orderGoodsType" value="0">{{$t('international')}}
                        </label>
                    </div>
                    <div class="form-group">
                        <label>{{$t('SelectBusiness')}}</label>
                        <!--                    <select id="ss" class="form-control" name="goodsCompanyId" v-model="goodsOrder.sellerId">
                                                <option value="0">商家一</option>
                                                <option value="1">商家二</option>
                                                <option value="2">商家三</option>
                                            </select>-->
                        <vm-select :options="merchants" title="选择商家" search="true"
                                   v-model="goodsOrder.sellerId"
                                   name="merchants" @input="merchantsChange"></vm-select>
                    </div>
                    <div class="form-group">
                        <label for="num">{{$t('ContractNumber')}}</label>
                        <input id="num" type="text" name="" class="form-control" v-model="goodsOrder.agreementId">
                    </div>
                    <div class="form-group">
                        <label for="transactionMode">{{$t('PaymentMethod')}}</label>
                        <div id="transactionMode">
                            <label class="radio-inline">
                                <input type="radio" name="transactionMode" value="0"
                                       v-model="goodsOrder.transactionMode">{{$t('LumpSumPayment')}}
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="transactionMode" value="1"
                                       v-model="goodsOrder.transactionMode">{{$t('InstallmentPayment')}}
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="transactionMode" value="2"
                                       v-model="goodsOrder.transactionMode">{{$t('OtherAccounts')}}
                            </label>
                            <div v-show="goodsOrder.transactionMode==1" style="display: inline;">
                                <label class="text">{{$t('DownPayments')}}</label>
                                <input class="form-control" type="text" v-model="goodsOrder.actualPayment"/>
                                <label class="text" v-model="goodsOrder.prePickUpTime">{{$t('PrePickUpTime')}}</label>
                                <input type="text"/>
                            </div>

                        </div>
                    </div>
                    <div class="form-group">
                        <label for="distributionMode">{{$t('DistributionMode')}}</label>
                        <div id="distributionMode">
                            <label class="radio-inline">
                                <input type="radio" name="distributionMode" value="0"
                                       v-model="goodsOrder.distributionMode">{{$t('BusinessArrangement')}}
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="distributionMode" value="1"
                                       v-model="goodsOrder.distributionMode">{{$t('SelfArrangement')}}
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="storageMode">{{$t('StorageMode')}}</label>
                        <div id="storageMode">
                            <label class="radio-inline">
                                <input type="radio" name="storageMode" value="0" v-model="goodsOrder.storageMode">{{$t('BusinessArrangement')}}
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="storageMode" value="1" v-model="goodsOrder.storageMode">{{$t('SelfArrangement')}}
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="insuranceMethod">{{$t('CargoInsurance')}}</label>
                        <div id="insuranceMethod">
                            <label class="radio-inline">
                                <input type="radio" name="insuranceMethod" value="0"
                                       v-model="goodsOrder.insuranceMethod">{{$t('BusinessArrangement')}}
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="insuranceMethod" value="1"
                                       v-model="goodsOrder.insuranceMethod">{{$t('SelfArrangement')}}
                            </label>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <div class="panel-title">
                                <span class="btn btn-primary text-right" @click="showMModal"
                                >{{$t('AddGoods')}}</span>
                            </div>
                        </div>
                        <div class="panel-body">
                            <table id="addTable" class="table text-nowrap"></table>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="num">{{$t('Remarks')}}</label>
                        <input type="text" name="" class="form-control" v-model="goodsOrder.remarks">
                    </div>
                </div>
                <div class="panel-footer">
                    <button type="button" class="btn btn-default" @click="reload">{{$t('return')}}</button>
                    <button type="button" class="btn btn-primary" @click="addGoodsOrder">{{$t('placeOrder')}}</button>
                </div>
            </div>
        </form>
    </div>
    <div class="modal fade" tabindex="-1" role="dialog" id="myModal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">{{$t('ChoiceOfGoods')}}</h4>
                </div>
                <div class="modal-body">
                    <table id="addGoodTable"></table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">{{$t('close')}}</button>
                    <button type="button" class="btn btn-primary" @click="addGood">{{$t('confirm')}}</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>
    <div class="modal fade" tabindex="-1" role="dialog" id="transactionMannerModal">
        <div class="modal-dialog" role="document" style="width: 60%">
            <div class="modal-content">
                <div class="modal-header">
                    <span class="modal-title">{{$t('WarehousingInformation')}}</span>
                </div>
                <div class="modal-body">
                    <form  class="form-horizontal" id="depotform">
                        <div class="row">
                            <div class="col-sm-4">{{$t('warehouseName')}}：<input type="text" :disabled="LookStorage" class="form-control" v-model="depot.storageName"/>
                            </div>
                            <div class="col-sm-4">{{$t('WarehouseAddress')}}：<input type="text" :disabled="LookStorage" class="form-control" v-model="depot.address" placeholder="请输入详细地址"/>
                            </div>
                            <div class="col-sm-4">{{$t('contact')}}：<input type="text" :disabled="LookStorage" class="form-control" v-model="depot.contact"/>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">{{$t('phone')}}：<input type="text" :disabled="LookStorage" class="form-control" v-model="depot.phone"/></div>
                            <div class="col-sm-4">{{$t('ContactMailbox')}}：<input type="text" :disabled="LookStorage" class="form-control" v-model="depot.email"/></div>
                            <div class="col-sm-4">{{$t('WarehouseChargingUnit')}}：<select name="" id="" :disabled="LookStorage" v-model="depot.unit" class="form-control">
                                <option value="0">{{$t('Yuan')}}/{{$t('ton')}}/{{$t('day')}}</option>
                                <option value="1">{{$t('Yuan')}}/{{$t('Support')}}/{{$t('day')}}</option>
                            </select></div>
                        </div>
                        <div class="row">
                            <div style="color: red;">{{$t('WarehousingChargesAreChargedPerTonOrDayAndOtherChargesAreChargedAtOnce')}}。</div>
                            <table class="table table-bordered">
                                <tr>
                                    <td>{{$t('WarehousingFee')}}</td>
                                    <td>{{$t('HandlingCharge')}}</td>
                                    <td>{{$t('DisposalCharge')}}</td>
                                    <td>{{$t('RepeatUpAndDown')}}</td>
                                    <td>{{$t('SortingFee')}}</td>
                                    <td>{{$t('TallyFee')}}</td>
                                    <td>{{$t('CopyTheCodeFor')}}</td>
                                    <td>{{$t('AfterFrozenFee')}}</td>
                                </tr>
                                <tr>
                                    <td><input type="text" disabled="disabled" class="form-control" v-model="depot.money1" placeholder="自动结算"/></td>
                                    <td><input type="text" :disabled="LookStorage" class="form-control" v-model="depot.money2"/></td>
                                    <td><input type="text" :disabled="LookStorage" class="form-control" v-model="depot.money3"/></td>
                                    <td><input type="text" :disabled="LookStorage" class="form-control" v-model="depot.money4"/></td>
                                    <td><input type="text" :disabled="LookStorage" class="form-control" v-model="depot.money5"/></td>
                                    <td><input type="text" :disabled="LookStorage" class="form-control" v-model="depot.money6"/></td>
                                    <td><input type="text" :disabled="LookStorage" class="form-control" v-model="depot.money7"/></td>
                                    <td><input type="text" :disabled="LookStorage" class="form-control" v-model="depot.money8"/></td>
                                </tr>
                                <tr>
                                    <td>{{$t('InspectionOfTransferFare')}}</td>
                                    <td>{{$t('CheckTheCostOfDigging')}}</td>
                                    <td>{{$t('CheckSwitchBoxDoorChargesAndLeadSeals')}}</td>
                                    <td>{{$t('DoorToDoorInspectionFee')}}</td>
                                    <td>{{$t('EntryAndExitFee')}}</td>
                                    <td>{{$t('WrappingFilm')}}</td>
                                    <td>{{$t('BoxCarOpposite')}}</td>
                                    <td>{{$t('PreCoolingFee')}}</td>
                                </tr>
                                <tr>
                                    <td><input type="text" :disabled="LookStorage" class="form-control" v-model="depot.money9"/></td>
                                    <td><input type="text" :disabled="LookStorage" class="form-control" v-model="depot.money10"/></td>
                                    <td><input type="text" :disabled="LookStorage" class="form-control" v-model="depot.money11"/></td>
                                    <td><input type="text" :disabled="LookStorage" class="form-control" v-model="depot.money12"/></td>
                                    <td><input type="text" :disabled="LookStorage" class="form-control" v-model="depot.money13"/></td>
                                    <td><input type="text" :disabled="LookStorage" class="form-control" v-model="depot.money14"/></td>
                                    <td><input type="text" :disabled="LookStorage" class="form-control" v-model="depot.money15"/></td>
                                    <td><input type="text" :disabled="LookStorage" class="form-control" v-model="depot.money16"/></td>
                                </tr>
                            </table>
                        </div>

                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">{{$t('close')}}</button>
                    <button type="button" class="btn btn-primary" v-show="depot.id == null" @click="saveDepot">{{$t('confirm')}}</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>
    <div class="modal fade" tabindex="-1" role="dialog" id="complaintModal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">{{$t('Complaint')}}</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" id="complaintForm">
                        <div class="row">
                            <div class="form-group">
                                <div class="col-sm-2 control-label">{{$t('ComplaintReason')}}</div>
                                <div class="col-sm-10">
                            <textarea name="reason" class="form-control" rows="8"
                                      v-model="complaint.reason"></textarea>
                                    <!--style="width: 167%;height: 100px"-->
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group">
                                <div class="col-sm-2 control-label">{{$t('ComplaintVoucher')}}</div>
                                <div class="col-sm-10">
                                    <commodity-fileinput :this_maxFileCount="6" ref="complaintFile" :files="images"
                                                         :image_list="complaint.images"></commodity-fileinput>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">{{$t('close')}}</button>
                    <button type="button" class="btn btn-primary" @click="complaintValidate">{{$t('confirm')}}</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>
    <div class="modal fade" tabindex="-1" role="dialog" id="afterSaleModal">
        <div class="modal-dialog" role="document" style="width: auto;">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">{{$t('AfterSale')}}</h4>
                </div>
                <div class="modal-body">
                    <div class="panel-body">
                        <form class="form-horizontal" id="afterSaleForm">
                            <!--申请售后的商品信息-->
                            <div class="row">
                                <table id="goodsInfo"></table>
                            </div>
                            <div class="row">
                                <div class="form-group">
                                    <div class="col-sm-2 control-label">{{$t('ServiceType')}}</div>
                                    <div class="col-sm-10">
                                        <label class="radio-inline">
                                            <input type="radio" v-model="afterSale.serviceType" name="serviceType"
                                                   id="radio1" value="0"/>
                                            {{$t('ReturnGoods')}}
                                        </label>
                                        <label class="radio-inline">
                                            <input type="radio" v-model="afterSale.serviceType" name="serviceType"
                                                   id="radio2" value="1"/>
                                            {{$t('ExchangeGoods')}}
                                        </label>
                                        <label class="radio-inline">
                                            <input type="radio" v-model="afterSale.serviceType" name="serviceType"
                                                   id="radio3" value="2"/>
                                            {{$t('ClaimDemage')}}
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div v-show="afterSale.serviceType==0||afterSale.serviceType==2" class="row">
                                <div class="form-group">
                                    <div class="col-sm-2 control-label">{{$t('RefundForm')}}</div>
                                    <div class="col-sm-10">
                                        <select class="form-control col-sm-10" style="width: 25%"
                                                v-model="afterSale.refundForm" name="refundForm"
                                                :placeholder="$t('PleaseChooseTheRefundMethod')">
                                            <option
                                                    v-for="(item,index) in refundFormList"
                                                    :label="item"
                                                    :value="index"
                                            >{{item}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div v-show="afterSale.serviceType==0" class="row">
                                <div class="form-group">
                                    <div class="col-sm-2 control-label">{{$t('ReturnQuantity')}}</div>
                                    <div class="col-sm-10" style="width: 7%">
                                        <input type="text" name="quantity" class="form-control"
                                               v-model="afterSale.quantity"/>
                                    </div>
                                    <span class="help-inline">{{$t('Tips')}}{{afterSale.number}}</span>
                                </div>
                            </div>
                            <div v-show="afterSale.serviceType==1" class="row">
                                <div class="form-group">
                                    <div class="col-sm-2 control-label">{{$t('ExchangeQuantity')}}</div>
                                    <div class="col-sm-10" style="width: 7%">
                                        <input type="text" name="quantity" class="form-control"
                                               v-model="afterSale.quantity"/>
                                    </div>
                                    <span class="help-inline">{{$t('Tips')}}{{afterSale.number}}</span>
                                </div>
                            </div>
                            <div v-show="afterSale.serviceType==2" class="row">
                                <div class="form-group">
                                    <div class="col-sm-2 control-label">{{$t('ClaimQuantity')}}</div>
                                    <div class="col-sm-10" style="width: 7%">
                                        <input type="text" name="quantity" class="form-control"
                                               v-model="afterSale.quantity"/>
                                    </div>
                                    <span class="help-inline">{{$t('Tips')}}{{afterSale.number}}</span>
                                </div>
                            </div>
                            <div v-show="afterSale.serviceType==0" class="row">
                                <div class="form-group">
                                    <div class="col-sm-2 control-label">{{$t('ReturnReason')}}</div>
                                    <div class="col-sm-10">
                                        <select class="form-control col-sm-10" style="width: 25%"
                                                v-model="afterSale.reason" name="reason"
                                                :placeholder="$t('PleaseChooseTheReason')">
                                            <option
                                                    v-for="(item,index) in reasonList"
                                                    :label="item"
                                                    :value="index"
                                            >{{item}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div v-show="afterSale.serviceType==1" class="row">
                                <div class="form-group">
                                    <div class="col-sm-2 control-label">{{$t('ExchangeReason')}}</div>
                                    <div class="col-sm-10">
                                        <select class="form-control col-sm-10" style="width: 25%"
                                                v-model="afterSale.reason" name="reason"
                                                :placeholder="$t('PleaseChooseTheReason')">
                                            <option
                                                    v-for="(item,index) in reasonList"
                                                    :label="item"
                                                    :value="index"
                                            >{{item}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div v-show="afterSale.serviceType==2" class="row">
                                <div class="form-group">
                                    <div class="col-sm-2 control-label">{{$t('ClaimReason')}}</div>
                                    <div class="col-sm-10">
                                        <select class="form-control col-sm-10" style="width: 25%"
                                                v-model="afterSale.reason" name="reason"
                                                :placeholder="$t('PleaseChooseTheReason')">
                                            <option
                                                    v-for="(item,index) in reasonList"
                                                    :label="item"
                                                    :value="index"
                                            >{{item}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group">
                                    <div class="col-sm-2 control-label">{{$t('ProblemDescription')}}</div>
                                    <div class="col-sm-10">
                                        <textarea name="description" class="form-control" rows="5"
                                                  v-model="afterSale.description" style="width: 25%"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group">
                                    <div class="col-sm-2 control-label">{{$t('Pictures')}}</div>
                                    <div class="col-sm-10" style="width: 35%">
                                        <commodity-fileinput :this_maxFileCount="6" ref="aftersaleFile" :files="images"
                                                             :image_list="afterSale.images"></commodity-fileinput>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" @click="reload">
                        {{$t('return')}}
                    </button>
                    <button type="button" class="btn btn-primary" @click="complaintValidate">{{$t('sure')}}</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>
    <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
         id="changePriceModal">
        <div class="modal-dialog" role="document" style="width: 45%;">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">{{$t('ReviseThePrice')}}</h4>
                </div>
                <div class="modal-body">
                    <div class="panel-body">
                        <form class="form-horizontal" role="form" id="changePriceForm">
                            <div class="form-group">
                                <label class="col-sm-2 control-label" for="totalPrice">{{$t('OriginalPrice')}}</label>
                                <div class="col-sm-3">
                                    <input class="form-control" id="totalPrice" type="text" disabled
                                           v-model="totalPrice"/>
                                </div>
                                <label class="col-sm-2 control-label" for="newTotalPrice">{{$t('PostDiscountPrice')}}</label>
                                <div class="col-sm-3">
                                    <input class="form-control" id="newTotalPrice" type="text" :placeholder="$t('PleaseEnterTheDiscountPrice')"
                                           v-model="newTotalPrice"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label" for="transportationExpenses">{{$t('OriginalFreight')}}</label>
                                <div class="col-sm-3">
                                    <input class="form-control" id="transportationExpenses" type="text" disabled
                                           v-model="transportationExpenses"/>
                                </div>
                                <label class="col-sm-2 control-label" for="newTransportationExpenses">{{$t('ChangePrice')}}</label>
                                <div class="col-sm-3">
                                    <input class="form-control" id="newTransportationExpenses" type="text"
                                           :placeholder="$t('PleaseEnterTheDiscountPrice')" v-model="newTransportationExpenses"/>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" @click="reload">
                        {{$t('return')}}
                    </button>
                    <button type="button" class="btn btn-primary" @click="changePriceValidate">{{$t('sure')}}</button>
                </div>
            </div>
        </div>
    </div>
    <!-- /.modal -->
</div>

<script src="../../libs/jquery.min.js"></script>
<script src="../../plugins/layer/layer.js"></script>
<script src="../../libs/bootstrap.min.js"></script>
<script src="../../libs/vue.min.js"></script>
<script src="../../libs/uiv.min.js"></script>
<!--bootstrap-table-->
<script src="../../plugins/bootstrap-table/bootstrap-table.min.js"></script>
<script src="../../plugins/bootstrap-editable/js/bootstrap-editable.min.js"></script>
<script src="../../plugins/bootstrap-editable/js/bootstrap-table-editable.min.js"></script>
<script src="../../plugins/bootstrap-table/locale/bootstrap-table-zh-CN.js"></script>
<!--bootstrap-validator-->
<script src="../../plugins/bootstrap-validator/js/bootstrap-validator.min.js"></script>
<script src="../../plugins/bootstrap-validator/js/zh_CN.min.js"></script>
<script src="../../plugins/jqgrid/grid.locale-cn.js"></script>
<script src="../../plugins/jqgrid/jquery.jqGrid.min.js"></script>
<script src="../../plugins/bootstrap-select/js/bootstrap-select.js"></script>
<script src="../../plugins/bootstrap-select/js/i18n/defaults-zh_CN.min.js"></script>
<!--图片上传-->
<script src="../../plugins/bootstrap-fileinput-master/js/fileinput.js"></script>
<script src="../../plugins/bootstrap-fileinput-master/js/locales/zh.js"></script>
<script src="../../plugins/kdniao/js/KDNWidget.js"></script>
<script src="../../messages/zh.js"></script>
<script src="../../messages/en.js"></script>
<script src="../../libs/validator.min.js"></script>
<script src="../../plugins/vue-i18n/vue-i18n.min.js"></script>
<script src="../../js/common.js"></script>
<script src="../../js/components.js"></script>

<script src="../../js/modules/order/outgoodsorder.js"></script>
</body>
</html>