<!DOCTYPE html>
<html>
<head>
    <title>货物订单表</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <link rel="stylesheet" href="../../css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/font-awesome.min.css">
    <link rel="stylesheet" href="../../css/bootstrap-table.min.css">
    <link rel="stylesheet" href="../../plugins/bootstrap-editable/css/bootstrap-editable.css">
    <link rel="stylesheet" href="../../plugins/bootstrap-validator/css/bootstrap-validator.min.css">
    <link rel="stylesheet" href="../../plugins/bootstrap-select/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="../../plugins/datetimepicker/css/bootstrap-datetimepicker.css">
    <!--文件上传-->
    <link rel="stylesheet" href="../../plugins/bootstrap-fileinput-master/css/fileinput.css">
    <link rel="stylesheet" href="../../plugins/kdniao/css/KDNWidget.css"/>
    <link rel="stylesheet" href="../../css/main.css">
    <style>
        .table {
            table-layout: fixed !important;
        }
    </style>
</head>
<body>
<div id="rrapp" v-cloak class="container-fluid">
    <section class="content-header">
        <h3>
            {{$t('GoodsOrderList')}}{{$t('Buy')}} &nbsp;<small v-if="title!=''">{{title}}</small>
        </h3>
        <ol class="breadcrumb">
            <li v-if="title==null"><a href="#" @click="reload">{{$t('refresh')}}</a></li>
            <li v-if="title=='详情'"><a href="#" @click="reload">{{$t('return')}}</a></li>
            <li v-if="title=='修改'"><a href="#" @click="reload">{{$t('return')}}</a></li>
            <li v-if="title=='新增'"><a href="#" @click="reload">{{$t('return')}}</a></li>
        </ol>
    </section>

    <!--列表页-->
    <div v-show="showList">
        <!-- <div class="row">
             <button class="btn btn-default m-left-5" @click="searchButton('1')"><i class="fa fa-search"></i>&nbsp;{{$t('FullOrder')}}</button>
             <button class="btn btn-default m-left-5" @click="searchButton('2')"><i class="fa fa-search"></i>&nbsp;{{$t('PendingPayment')}}</button>
             <button class="btn btn-default m-left-5" @click="searchButton('3')"><i class="fa fa-search"></i>&nbsp;{{$t('PendingReceipt')}}</button>

         </div>-->
        <div class="row">
            <div class="col-xs-2">
                <input type="text" class="form-control" v-model="params.orderNumber" placeholder="根据订单编号"
                       maxlength="25"/>
            </div>
            <div class="col-xs-2">
                <vm-select :options="statusSelect" title="选择订单状态" search="true"
                           name="statusSelect" @input="" v-model="params.orderStatus"></vm-select>
            </div>

            <button class="btn btn-default m-left-5" @click="query"><i class="fa fa-search"></i>&nbsp;{{$t('query')}}
            </button>
            <button class="btn btn-primary m-left-5" @click="add"><i class="fa fa-plus"></i>&nbsp;{{$t('AddPurchaseOrder')}}
            </button>
            <button class="btn btn-danger m-left-5" @click="del"><i class="fa fa-trash-o"></i>&nbsp;{{$t('delete')}}
            </button>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <table class="table text-nowrap" id="table">
                </table>
            </div>
        </div>
    </div>
    <!--详情-->
    <div v-show="!showList && addOrder !=true" style="margin-top: 20px;">
        <section class="content-header">
            <h1>
                {{$t('OrderDetails')}} &nbsp;<small v-if="title!=''">{{title}}</small>
            </h1>
        </section>
        <form class="form-horizontal" onkeydown="if(event.keyCode==13){return false;}">
            <div class="row" style="border:1px solid #ddd;">
                <div class="text-center col-sm-4">
                    <div>{{$t('ContractNumber')}}：{{goodsOrder.agreementId}}</div>
                    <div>{{$t('OrderId')}}：{{goodsOrder.orderNumber}}</div>
                    <div v-if="goodsOrder.isAgent == '1'">{{$t('agentOrder')}}：{{goodsOrder.agentOrderNumber}}</div>
                    <h1>{{getOrderStatus()}}</h1>
                    <!--<button v-if="goodsOrder.orderStatus == 'tbp'">{{$t('ImmediatePayment')}}</button>-->
                </div>
                <div class="col-sm-1">
                    <hr style="width:1px;height:100px; background-color: #0a0a0a "></hr>
                </div>
                <div class="col-sm-3 text-center">
                    <div>{{$t('ConsigneeInformation')}}</div>
                    <div>{{$t('consignee')}}：{{address.consigneeName}}</div>
                    <div>{{$t('address')}}：{{address.consigneeAddress}}</div>
                    <div>{{$t('phone')}}：{{address.consigneePhone}}</div>
                </div>
                <div class="col-sm-1">
                    <hr style="width:1px;height:100px; background-color: #0a0a0a "></hr>
                </div>
                <div class="col-sm-3 text-center">
                    <div>{{$t('PaymentMethod')}}：{{getPaymentMethod()}}</div>
                    <div>{{$t('PaymentMethod')}}：{{getTransactionMode()}}</div>
                    <div>{{$t('DistributionMode')}}：{{goodsOrder.distributionMode ==0?'商家安排':'自行安排'}}</div>
                    <div>{{$t('StorageMode')}}：{{goodsOrder.storageMode ==0?'商家安排':'自行安排'}}</div>
                    <div>{{$t('CargoParticipation')}}：{{goodsOrder.insuranceMethod ==0?'商家安排':'自行安排'}}</div>
                </div>
            </div>
        </form>
        <br>
        <!--仓储信息-->
        <div class="panel panel-default" v-if="storageInfo">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        {{$t('WarehousingInformation')}}
                    </h3>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-sm-4">{{$t('warehouseName')}}：{{depot.storageName}}</div>
                        <div class="col-sm-4">{{$t('contact')}}：{{depot.contact}}</div>
                        <div class="col-sm-4">{{$t('phone')}}：{{depot.phone}}</div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4">{{$t('WarehouseChargingUnit')}}：&nbsp;{{depot.unit==0?'元/吨/天':'元/托/天'}}
                        </div>
                        <div class="col-sm-4">{{$t('address')}}：{{depot.address}}</div>
                        <div class="col-sm-4">{{$t('mailbox')}}:{{depot.email}}</div>
                    </div>
                    <div class="row">
                        <div style="color: red;">{{$t('StorageChargesAccordingToThe')}}{{depot.money1}}&nbsp;{{depot.unit==0?'元/吨/天':'元/托/天'}}{{$t('Collect')}}，{{$t('OtherFeesChargedAtOnce')}}。</div>
                        <table class="table table-bordered">
                            <tr>
                                <td>{{$t('WarehousingFee')}}</td>
                                <td>{{$t('HandlingCharge')}}</td>
                                <td>{{$t('DisposalCharge')}}</td>
                                <td>{{$t('RepeatUpAndDown')}}</td>
                                <td>{{$t('SortingFee')}}</td>
                                <td>{{$t('TallyFee')}}</td>
                                <td>{{$t('CopyTheCodeFor')}}</td>
                                <td>{{$t('AfterFrozenFee')}}</td>
                            </tr>
                            <tr>
                                <td>{{depot.money1}}</td>
                                <td>{{depot.money2}}</td>
                                <td>{{depot.money3}}</td>
                                <td>{{depot.money4}}</td>
                                <td>{{depot.money5}}</td>
                                <td>{{depot.money6}}</td>
                                <td>{{depot.money7}}</td>
                                <td>{{depot.money8}}</td>
                            </tr>
                            <tr>
                                <td>{{$t('InspectionOfTransferFare')}}</td>
                                <td>{{$t('CheckTheCostOfDigging')}}</td>
                                <td>{{$t('CheckSwitchBoxDoorChargesAndLeadSeals')}}</td>
                                <td>{{$t('DoorToDoorInspectionFee')}}</td>
                                <td>{{$t('EntryAndExitFee')}}</td>
                                <td>{{$t('WrappingFilm')}}</td>
                                <td>{{$t('BoxCarOpposite')}}</td>
                                <td>{{$t('PreCoolingFee')}}</td>
                            </tr>
                            <tr>
                                <td>{{depot.money9}}</td>
                                <td>{{depot.money10}}</td>
                                <td>{{depot.money11}}</td>
                                <td>{{depot.money12}}</td>
                                <td>{{depot.money13}}</td>
                                <td>{{depot.money14}}</td>
                                <td>{{depot.money15}}</td>
                                <td>{{depot.money16}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading">
                <div class="panel-title text-left"><span>&nbsp;&nbsp;&nbsp;&nbsp;{{$t('business')}}：{{goodsOrder.sellerName}}            {{$t('ContactInformation')}}：{{goodsOrder.sellerContact}}</span>
                </div>
            </div>
            <div class="panel-body">
                <div>{{$t('OrderInformation')}}</div>
                <span>{{$t('CreationTime')}}：{{goodsOrder.createTime}}</span>
                <table class="table table-striped table_list" id="contenTable"></table>
                <table class="table table-striped" id="commondityTable"
                ></table><!--v-show="goodsOrder.goodsCsc==0 || goodsOrder.goodsCsc == null"-->
                <div class="panel panel-default" v-show="priceVersionShow">
                    <div class="panel-heading">
                        改价记录
                    </div>
                    <div class="panel-body" id="priceVersion">
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-1 text-right"><span>{{$t('Remarks')}}</span></div>
                    <div class="col-sm-8"><input type="text" class="form-control" v-model="goodsOrder.remarks"
                                                 :placeholder="$t('Remarks')"/></div>
                </div>

                <div class="panel panel-default" v-show="toShow">
                    <div class="panel-heading">
                        <div class="panel-title">{{$t('LogisticsDetails')}}</div>
                    </div>
                    <div class="panel-body">
                        <div v-show="goodsOrder.orderGoodsType == 0">
                            <a>{{$t('ClickToViewLogisticsDetails')}}</a>
                        </div>
                        <div id="shipElement" v-show="goodsOrder.orderGoodsType == 1"></div>
                    </div>
                </div>

                <div class="text-right">
                    <div>{{$t('TotalPrice')}}：￥{{goodsOrder.totalPrice}}</div>
                    <div>{{$t('freight')}}：￥{{goodsOrder.transportationExpenses}}</div>
                    <div>{{$t('RealPayment')}}：￥{{goodsOrder.actualPayment==null?0:goodsOrder.actualPayment}}</div>
                </div>
            </div>
        </div>

        <button class="btn btn-default m-left-5" @click="reload"/>
        <i class="fa"></i>&nbsp;{{$t('return')}}
        <button v-show="complaintShow" class="btn btn-default m-left-5" @click="addComplaint"/>
        <i class="fa"></i>&nbsp;{{$t('ComplaintSeller')}}
        <button class="btn btn-default m-left-5" @click="addAftersale" v-show="aftersaleShow">
            <i class="fa"></i>&nbsp;售后
        </button>
    </div>
    <!--新增页-->
    <div v-show="addOrder" style="margin-top: 20px;">
        <form class="form-horizontal" id="addform" onkeydown="if(event.keyCode==13){return false;}">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="panel-title">
                        <span>{{$t('FillInOrderInformation')}}</span>
                    </div>
                </div>
                <div class="panel-body">
                    <!--//合同信息-->
                    <!--<div class="form-group row">
                                                <div class="col-sm-2">
                                                    <label for="num">合同编号</label>
                                                    <input id="num" type="text" name="" class="form-control" v-model="goodsOrder.agreementId" :disabled="goodsOrder.numStatus">
                                                </div>
                                                <div class="col-sm-10">
                                                    <label class="radio-inline">
                                                        <input type="radio" v-model="goodsOrder.numStatus" name="numStatus"
                                                               :value="true"/>
                                                        自动生成
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" v-model="goodsOrder.numStatus" name="numStatus"
                                                               :value="false"/>
                                                        手动输入
                                                    </label>
                                                </div>
                                            </div>-->
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span>{{$t('TypeOfGoods')}}</span>

                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="col-sm-5">
                                        <div class="form-group">
                                            <div class="col-lg-3">
                                                <div class="control-label">{{$t('TypeOfGoods')}}</div>
                                            </div>
                                            <div class="col-lg-9">
                                                <label class="radio-inline">
                                                    <input type="radio" v-model="goodsOrder.orderGoodsType"
                                                           name="orderGoodsType" value="1">{{$t('spotGoods')}}
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" v-model="goodsOrder.orderGoodsType"
                                                           name="orderGoodsType" value="0">{{$t('futures')}}
                                                </label>
                                                <!--<input type="text" class="form-control"
                                                       v-model="goodsOrder.numStatus"
                                                       placeholder="合同编号"/>-->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default" v-show="transactionShow">
                        <div class="panel-heading">
                            <span>{{$t('TransactionMode')}}</span>
                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <div class="col-lg-1">
                                                <div class="control-label">{{$t('TransactionMode')}}</div>
                                            </div>
                                            <div class="col-lg-11" style="padding-left: 44px;">
                                                <label class="radio-inline" v-for="item in transactionManners">
                                                    <input type="radio" v-model="goodsOrder.transactionManner"
                                                           name="transactionManner" :value="item">{{item}}
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span>{{$t('agentSure')}}</span>
                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="col-sm-5">
                                        <div class="form-group">
                                            <div class="col-lg-3">
                                                <div class="control-label">{{$t('agentSure')}}</div>
                                            </div>
                                            <div class="col-lg-3">
                                                <label class="radio-inline">
                                                    <input type="radio" v-model="goodsOrder.isAgent"
                                                           name="isAgent" value="1">{{$t('yes')}}
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" v-model="goodsOrder.isAgent"
                                                           name="isAgent" value="0">{{$t('no')}}
                                                </label>
                                            </div>
                                            <div class="col-lg-6" v-show="!isAgentValue">
                                                <input type="text" class="form-control"
                                                       v-model="goodsOrder.agentOrderNumber"
                                                       name="agentOrderNumber" :placeholder="$t('agentOrder')"
                                                       @change="addAgent(this)"/>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-lg-3">
                                                <div class="control-label"></div>
                                            </div>
                                            <div class="col-lg-8">
                                                <div style="color:red">请确认是否已有代理订单，如果没有，请选择否</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span>{{$t('ContractInformation')}}</span>

                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="col-sm-5">
                                        <div class="form-group">
                                            <div class="col-lg-3">
                                                <div class="control-label">{{$t('ContractNumber')}}</div>
                                            </div>
                                            <div class="col-lg-9" v-show="merchantSelect">
                                                <input type="text" class="form-control" id="contractNumber"
                                                       v-model="goodsOrder.agreementId"
                                                       @change="contractWrite(this)"
                                                       :placeholder="$t('ContractNumber')" disabled/>
                                                <input type="radio" name="contractNumber" value="1"
                                                       checked="checked"
                                                       onchange="change2(this)"/>{{$t('AutomaticGeneration')}}
                                                &nbsp;&nbsp;<input type="radio" name="contractNumber" value="0"
                                                                   onchange="change2(this)"/>{{$t('ManualInput')}}
                                            </div>
                                            <div class="col-lg-9" v-show="!merchantSelect">
                                                <input type="text" class="form-control"
                                                       v-model="goodsOrder.agreementId"
                                                       :placeholder="$t('ContractNumber')" disabled/>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span>{{$t('SelectBusiness')}}</span>

                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="col-sm-5">

                                        <div class="form-group" v-show="merchantSelect">
                                            <div class="col-lg-3">
                                                <div class="control-label">{{$t('SelectBusiness')}}</div>
                                            </div>
                                            <div class="col-lg-9">
                                                <!-- <input type="text" class="form-control"
                                                        v-model="goodsOrder.numStatus"
                                                        placeholder="合同编号"/>-->
                                                <vm-select :options="merchants" title="选择商家" search="true"
                                                           v-model="goodsOrder.sellerId"
                                                           :value="goodsOrder.sellerId"
                                                           name="merchants" @input="merchantsChange"></vm-select>
                                            </div>

                                        </div>
                                        <div class="form-group" v-show="!merchantSelect">
                                            <div class="col-lg-3">
                                                <div class="control-label">{{$t('business')}}</div>
                                            </div>
                                            <div class="col-lg-9">

                                                <input type="text" class="form-control"
                                                       v-model="goodsOrder.sellerName" disabled/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="panel panel-default">
                             <div class="panel-heading">
                                 <span>{{$t('ReceivingAddress')}}</span>

                             </div>
                             <div class="panel-body">
                                 <div class="row">
                                     <div class="col-sm-12">
                                         <div class="col-sm-5">
                                             <div class="form-group">
                                                 <div class="col-lg-3">
                                                     <div class="control-label">{{$t('ReceivingAddress')}}</div>
                                                 </div>
                                                 <div class="col-lg-9">
                                                     <vm-select :options="addressList" title="选择收货地址" search="true"
                                                                v-model="address.consigneeId"
                                                                :value="address.consigneeId"
                                                                name="addressList" @input="AddressChange"></vm-select>
                                                 </div>
                                             </div>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                         </div>-->
                        <!--//收货地址信息-->

                        <!--<div class="form-group">
                            <label for="num">收货地址</label>
                            <vm-select :options="addressList" title="选择收货地址" search="true"
                                       v-model="address.consigneeId"
                                       :value="address.consigneeId"
                                       name="merchants" @input="AddressChange"></vm-select>
                        </div>-->

                        <!--                    <div class="form-group">
                                                <label for="transactionMode">付款方式</label>
                                                <div id="transactionMode"></div>
                                            </div>-->
                        <!--                    <div class="form-group">
                                                <label for="distributionMode">配送方式</label>
                                                <div id="distributionMode"></div>
                                            </div>-->
                        <!-- <div class="form-group">
                             <label for="storageMode">仓储方式</label>
                             <div id="storageMode"></div>
                         </div>-->
                        <!--<div class="form-group">
                            <label for="insuranceMethod">货物保险</label>
                            <div id="insuranceMethod"></div>
                        </div>-->

                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span>{{$t('ReceiptInformation')}}</span>
                            <a href="javascript:void(0);" class="pull-right m-right-5"
                               @click="openAddressCheck">{{$t('ChooseReceiptAddress')}}</a>
                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="col-sm-5">
                                        <div class="form-group">
                                            <div class="col-lg-3">
                                                <div class="control-label">{{$t('contact')}}</div>
                                            </div>
                                            <div class="col-lg-6">
                                                <input type="text" class="form-control"
                                                       v-model="address.consigneeName"
                                                       :placeholder="$t('contact')" name="consigneeName"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="form-group">
                                            <div class="col-lg-3">
                                                <div class="control-label">{{$t('phone')}}</div>
                                            </div>
                                            <div class="col-lg-6">
                                                <input type="text" class="form-control"
                                                       v-model="address.consigneePhone"
                                                       :placeholder="$t('phone')" name="consigneePhone"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <div class="col-lg-1" style="margin-right:25px;">
                                                <div class="control-label">{{$t('ReceivingAddress')}}</div>
                                            </div>
                                            <div class="col-lg-8">
                                                        <textarea type="text" class="form-control"
                                                                  v-model="address.consigneeAddress"
                                                                  :placeholder="$t('ReceivingAddress')"
                                                                  name="consigneeAddress"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span>{{$t('OrderConfiguration')}}</span>

                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-12"></div>
                                <div class="col-sm-5">
                                    <div class="form-group">
                                        <div class="col-lg-3">
                                            <div class="control-label">{{$t('PaymentMethod')}}</div>
                                        </div>
                                        <div class="col-lg-9">
                                            <label class="radio-inline">
                                                <input type="radio" name="transactionMode" value="0"
                                                       v-model="goodsOrder.transactionMode">{{transactionModes[0]}}
                                            </label>
                                            <label class="radio-inline">
                                                <input type="radio" name="transactionMode" value="1"
                                                       v-model="goodsOrder.transactionMode">{{transactionModes[1]}}
                                            </label>
                                            <!-- <label class="radio-inline">
                                                 <input type="radio" name="transactionMode" value="2"
                                                        v-model="goodsOrder.transactionMode">{{transactionModes[2]}}
                                             </label>-->
                                            <div v-show="goodsOrder.transactionMode==1" class="row">
                                                <!--<label class="text"></label>-->
                                                {{$t('DownPayments')}}（元） <input class="form-control"
                                                                                 type="text"
                                                                                 v-model="goodsOrder.downPayment"
                                                                                 maxlength="10"
                                                                                 onkeyup="value=value.replace(/[^\d{1,}\.\d{1,}|\d{1,}]/g,'')"/>
                                                <label class="text">{{$t('PrePickUpTime')}}</label>
                                                <input type="text" readonly
                                                       class="form-control select-box-input"
                                                       data-date-format="yyyy-mm-dd" id="prePickUpTime"
                                                       v-model="goodsOrder.prePickUpTime"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-lg-3">
                                            <div class="control-label">{{$t('DistributionMode')}}</div>
                                        </div>
                                        <div class="col-lg-9">

                                            <label class="radio-inline">
                                                <input type="radio" name="distributionMode" value="0"
                                                       v-model="goodsOrder.distributionMode"
                                                       :disabled="goodsOrder.transactionManner!='其他（自定义订单配置）'">{{$t('BusinessArrangement')}}
                                            </label>
                                            <label class="radio-inline">
                                                <input type="radio" name="distributionMode" value="1"
                                                       v-model="goodsOrder.distributionMode"
                                                       :disabled="goodsOrder.transactionManner!='其他（自定义订单配置）'">{{$t('SelfArrangement')}}
                                            </label>

                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-lg-3">
                                            <div class="control-label">{{$t('StorageMode')}}</div>
                                        </div>
                                        <div class="col-lg-9">
                                            <label class="radio-inline">
                                                <input type="radio" name="storageMode" value="0"
                                                       v-model="goodsOrder.storageMode"
                                                       :disabled="goodsOrder.transactionManner!='其他（自定义订单配置）'">{{$t('BusinessArrangement')}}
                                            </label>
                                            <label class="radio-inline">
                                                <input type="radio" name="storageMode" value="1"
                                                       v-model="goodsOrder.storageMode"
                                                       :disabled="goodsOrder.transactionManner!='其他（自定义订单配置）'">{{$t('SelfArrangement')}}
                                            </label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-lg-3">
                                            <div class="control-label">{{$t('CargoInsurance')}}</div>
                                        </div>
                                        <div class="col-lg-9">
                                            <label class="radio-inline">
                                                <input type="radio" name="insuranceMethod" value="0"
                                                       v-model="goodsOrder.insuranceMethod"
                                                       :disabled="goodsOrder.transactionManner!='其他（自定义订单配置）'">{{$t('BusinessArrangement')}}
                                            </label>
                                            <label class="radio-inline">
                                                <input type="radio" name="insuranceMethod" value="1"
                                                       v-model="goodsOrder.insuranceMethod"
                                                       :disabled="goodsOrder.transactionManner!='其他（自定义订单配置）'">{{$t('SelfArrangement')}}
                                            </label>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="panel-title text-left col-lg-6">
                                    <span class="text-right">{{$t('DetailsOfTheGoods')}}</span>
                                </div>
                                <div class="panel-title text-right col-lg-6">
                                        <span class="btn btn-primary text-right" @click="showMModal"
                                              v-show="addButtonShow">{{$t('AddGoods')}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="panel-body">
                            <table id="addTable"></table>
                        </div>
                    </div>
                    <div class="form-group">
                        <!--for="num"-->
                        <label>{{$t('Remarks')}}</label>
                        <input type="text" name="" class="form-control" v-model="goodsOrder.remarks">
                    </div>

                </div>
                <div class="panel-footer" style="text-align: right;">
                    <button type="button" class="btn btn-default" @click="reload(1)">{{$t('return')}}</button>
                    <button type="button" class="btn btn-primary" @click="addGoodsOrder">{{$t('submission')}}
                    </button>
                </div>
            </div>
        </form>

        <div class="modal fade" tabindex="-1" role="dialog" id="myModal">
            <div class="modal-dialog" role="document" style="width: auto;">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">{{$t('ChoiceOfGoods')}}</h4>
                    </div>
                    <div class="modal-body">
                        <table id="addGoodTable"></table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">{{$t('close')}}</button>
                        <button type="button" class="btn btn-primary" @click="addGood">{{$t('confirm')}}</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div>
    </div>
</div>

<div class="modal fade" tabindex="-1" role="dialog" id="complaintModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">{{$t('Complaint')}}</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" id="complaintForm" onkeydown="if(event.keyCode==13){return false;}">
                    <div class="row">
                        <div class="form-group">
                            <div class="col-sm-2 control-label">{{$t('ComplaintReason')}}</div>
                            <div class="col-sm-10">
                            <textarea name="reason" class="form-control" rows="8"
                                      v-model="complaint.reason"></textarea>
                                <!--style="width: 167%;height: 100px"-->
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group">
                            <div class="col-sm-2 control-label">{{$t('ComplaintVoucher')}}</div>
                            <div class="col-sm-10">
                                <commodity-fileinput :this_maxFileCount="6" ref="complaintFile" :files="images"
                                                     :image_list="complaint.images"></commodity-fileinput>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">{{$t('close')}}</button>
                <button type="button" class="btn btn-primary" v-if="complaint.id == null"
                        @click="complaintValidate">{{$t('confirm')}}
                </button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<div class="modal fade" tabindex="-1" role="dialog" id="afterSaleModal">
    <div class="modal-dialog" role="document" style="width: auto;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">{{$t('AfterSale')}}</h4>
            </div>
            <div class="modal-body">
                <div class="panel-body">
                    <form class="form-horizontal" id="afterSaleForm" onkeydown="if(event.keyCode==13){return false;}">
                        <!--申请售后的商品信息-->
                        <div class="row">
                            <table id="goodsInfo"></table>
                        </div>
                        <div class="row">
                            <div class="form-group">
                                <div class="col-sm-2 control-label">{{$t('ServiceType')}}</div>
                                <div class="col-sm-10">
                                    <label class="radio-inline">
                                        <input type="radio" v-model="afterSale.serviceType" name="serviceType"
                                               id="radio1" value="0"/>
                                        {{$t('ReturnGoods')}}
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" v-model="afterSale.serviceType" name="serviceType"
                                               id="radio2" value="1"/>
                                        {{$t('ExchangeGoods')}}
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" v-model="afterSale.serviceType" name="serviceType"
                                               id="radio3" value="2"/>
                                        {{$t('ClaimDemage')}}
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div v-show="afterSale.serviceType==0||afterSale.serviceType==2" class="row">
                            <div class="form-group">
                                <div class="col-sm-2 control-label">{{$t('RefundForm')}}</div>
                                <div class="col-sm-10">
                                    <select class="form-control col-sm-10" style="width: 25%"
                                            v-model="afterSale.refundForm" name="refundForm"
                                            :placeholder="$t('PleaseChooseTheRefundMethod')">
                                        <option
                                                v-for="(item,index) in refundFormList"
                                                :label="item"
                                                :value="index"
                                        >{{item}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div v-show="afterSale.serviceType==0" class="row">
                            <div class="form-group">
                                <div class="col-sm-2 control-label">{{$t('ReturnQuantity')}}</div>
                                <div class="col-sm-10" style="width: 7%">
                                    <input type="text" name="quantity" class="form-control"
                                           v-model="afterSale.quantity"/>
                                </div>
                                <span class="help-inline">{{$t('Tips')}}{{afterSale.number}}</span>
                            </div>
                        </div>
                        <div v-show="afterSale.serviceType==1" class="row">
                            <div class="form-group">
                                <div class="col-sm-2 control-label">{{$t('ExchangeQuantity')}}</div>
                                <div class="col-sm-10" style="width: 7%">
                                    <input type="text" name="quantity" class="form-control"
                                           v-model="afterSale.quantity"/>
                                </div>
                                <span class="help-inline">{{$t('Tips')}}{{afterSale.number}}</span>
                            </div>
                        </div>
                        <div v-show="afterSale.serviceType==2" class="row">
                            <div class="form-group">
                                <div class="col-sm-2 control-label">{{$t('ClaimQuantity')}}</div>
                                <div class="col-sm-10" style="width: 7%">
                                    <input type="text" name="quantity" class="form-control"
                                           v-model="afterSale.quantity"/>
                                </div>
                                <span class="help-inline">{{$t('Tips')}}{{afterSale.number}}</span>
                            </div>
                        </div>
                        <div v-show="afterSale.serviceType==0" class="row">
                            <div class="form-group">
                                <div class="col-sm-2 control-label">{{$t('ReturnReason')}}</div>
                                <div class="col-sm-10">
                                    <select class="form-control col-sm-10" style="width: 25%"
                                            v-model="afterSale.reason" name="reason"
                                            :placeholder="$t('PleaseChooseTheReason')">
                                        <option
                                                v-for="(item,index) in reasonList"
                                                :label="item"
                                                :value="index"
                                        >{{item}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div v-show="afterSale.serviceType==1" class="row">
                            <div class="form-group">
                                <div class="col-sm-2 control-label">{{$t('ExchangeReason')}}</div>
                                <div class="col-sm-10">
                                    <select class="form-control col-sm-10" style="width: 25%"
                                            v-model="afterSale.reason" name="reason"
                                            :placeholder="$t('PleaseChooseTheReason')">
                                        <option
                                                v-for="(item,index) in reasonList"
                                                :label="item"
                                                :value="index"
                                        >{{item}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div v-show="afterSale.serviceType==2" class="row">
                            <div class="form-group">
                                <div class="col-sm-2 control-label">{{$t('ClaimReason')}}</div>
                                <div class="col-sm-10">
                                    <select class="form-control col-sm-10" style="width: 25%"
                                            v-model="afterSale.reason" name="reason"
                                            :placeholder="$t('PleaseChooseTheReason')">
                                        <option
                                                v-for="(item,index) in reasonList"
                                                :label="item"
                                                :value="index"
                                        >{{item}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group">
                                <div class="col-sm-2 control-label">{{$t('ProblemDescription')}}</div>
                                <div class="col-sm-10">
                                        <textarea name="description" class="form-control" rows="5"
                                                  v-model="afterSale.description" style="width: 25%"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group">
                                <div class="col-sm-2 control-label">{{$t('Pictures')}}</div>
                                <div class="col-sm-10" style="width: 35%">
                                    <commodity-fileinput :this_maxFileCount="6" ref="aftersaleFile"
                                                         :files="aftersaleImages"
                                                         :image_list="afterSale.images"></commodity-fileinput>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" @click="reload">
                    {{$t('return')}}
                </button>
                <button type="button" class="btn btn-primary" @click="saveAftersale">{{$t('sure')}}</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<!-- Modal -->
<div class="modal fade" id="preModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">{{$t('AuditOrder')}}</h4>
            </div>
            <div class="modal-body">
                <form id="preForm" class="form-horizontal" onkeydown="if(event.keyCode==13){return false;}">
                    <div class="form-group">
                        <div class="col-sm-2 control-label">{{$t('AuditStatus')}}</div>
                        <div class="col-sm-10">
                            <label class="radio-inline">
                                <input type="radio" v-model="goodsorderpre.preStatus" name="preStatus"
                                       value="0"/>
                                {{$t('approved')}}
                            </label>
                            <label class="radio-inline">
                                <input type="radio" v-model="goodsorderpre.preStatus" name="preStatus"
                                       value="1"/>
                                {{$t('AuditFailure')}}
                            </label>
                        </div>
                    </div>
                    <div class="form-group" v-if="goodsorderpre.preStatus==1">
                        <div class="col-sm-2 control-label">{{$t('AuditFailureReason')}}</div>
                        <div class="col-sm-10">
                                <textarea name="description" class="form-control" rows="5"
                                          v-model="goodsorderpre.preContent"></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-2 control-label">{{$t('Remarks')}}</div>
                        <div class="col-sm-10">
                            <input type="text" name="quantity" class="form-control"
                                   v-model="goodsorderpre.preRemarks"/>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" @click="reload">
                    {{$t('return')}}
                </button>
                <button type="button" class="btn btn-primary" v-if="goodsorderpre.id == null" @click="preSave">
                    {{$t('sure')}}
                </button>
            </div>
        </div>
    </div>
</div><!-- /.modal -->
<!--收货地址-->
<div class="modal fade" id="addressModel" role="addressModel" aria-labelledby="addressLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="addressLabel">{{$t('ChooseReceiptAddress')}}</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="col-sm-2" style="padding-left: 0px;">
                            <input class="form-control" v-model="params.addressTitle" @keyup.enter="addressQuery"
                                   @blur="addressQuery" :placeholder="$t('PleaseEnterTheTitleName')"/>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <table id="addressTab"></table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">{{$t('close')}}</button>
                <button type="button" class="btn btn-primary" @click="getAddressDate">{{$t('sure')}}</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<!--授权-->
<div class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">授权</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" id="accredit" onkeydown="if(event.keyCode==13){return false;}">
                    <div class="row">
                        <div class="form-group">
                            <div class="col-sm-3 control-label">授权公司</div>
                            <div class="col-sm-9" v-show="!accreditRead">
                                <vm-select :options="accreditCompanys" title="选择公司" search="true"
                                           v-model="merchantCompany.companyId"
                                           :value="merchantCompany.companyId"
                                           name="accreditCompanys" @input="companyChange"></vm-select>
                            </div>
                            <div class="col-sm-9" v-show="accreditRead">
                                <input type="text" class="form-control" v-model="merchantCompany.companyName" disabled>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group">
                            <div class="col-sm-3 control-label">授权人</div>
                            <div class="col-sm-9" v-show="!accreditRead">
                                <vm-select :options="companyStaffs" title="选择授权人" search="true"
                                           v-model="companyStaff.userId" :value="companyStaff.userId"
                                           name="companyStaffs"></vm-select>
                            </div>
                            <div class="col-sm-9" v-show="accreditRead">
                                <input type="text" class="form-control" v-model="companyStaff.userName" disabled>
                            </div>
                        </div>
                    </div>
                    <div class="row" v-show="paymentShow">
                        <div class="form-group">
                            <div class="col-lg-3">
                                <div class="control-label">{{$t('AuthorizationPayment')}}</div>
                            </div>
                            <div class="col-lg-9">
                                <label class="radio-inline">
                                    <input type="radio" v-model="goodsOrder.isPayment"
                                           name="orderGoodsType" value="1">{{$t('yes')}}
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" v-model="goodsOrder.isPayment"
                                           name="orderGoodsType" value="0">{{$t('no')}}
                                </label>
                                <!--<input type="text" class="form-control"
                                       v-model="goodsOrder.numStatus"
                                       placeholder="合同编号"/>-->
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">{{$t('close')}}</button>
                <button type="button" class="btn btn-primary" v-show="!accreditRead"
                        @click="saveAccredit">{{$t('confirm')}}
                </button>
                <button type="button" class="btn btn-primary" v-show="accreditRead"
                        @click="cancleAccredit">{{$t('cancleAuthorize')}}
                </button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<script src="../../libs/jquery.min.js"></script>
<script src="../../plugins/layer/layer.js"></script>
<script src="../../libs/bootstrap.min.js"></script>
<script src="../../libs/vue.min.js"></script>
<!--bootstrap-table-->
<script src="../../plugins/bootstrap-table/bootstrap-table.js"></script>
<script src="../../plugins/bootstrap-editable/js/bootstrap-editable.min.js"></script>
<script src="../../plugins/bootstrap-editable/js/bootstrap-table-editable.min.js"></script>
<script src="../../plugins/bootstrap-table/locale/bootstrap-table-zh-CN.js"></script>

<!--bootstrap-validator-->
<script src="../../plugins/bootstrap-validator/js/bootstrap-validator.min.js"></script>
<script src="../../plugins/bootstrap-validator/js/zh_CN.min.js"></script>
<script src="../../plugins/bootstrap-select/js/bootstrap-select.js"></script>
<script src="../../plugins/bootstrap-select/js/i18n/defaults-zh_CN.min.js"></script>
<script src="../../plugins/datetimepicker/js/bootstrap-datetimepicker.js"></script>
<script src="../../plugins/datetimepicker/js/locales/bootstrap-datetimepicker.zh-CN.js"></script>
<!--图片上传-->
<script src="../../plugins/bootstrap-fileinput-master/js/fileinput.js"></script>
<script src="../../plugins/bootstrap-fileinput-master/js/locales/zh.js"></script>
<script src="../../plugins/kdniao/js/KDNWidget.js"></script>
<script src="../../messages/zh.js"></script>
<script src="../../messages/en.js"></script>

<script src="../../plugins/vue-i18n/vue-i18n.min.js"></script>
<script src="../../js/common.js"></script>
<script src="../../js/components.js"></script>

<script src="../../js/modules/order/putgoodsorder.js"></script>
</body>
</html>